{% extends '@Arduino/index.html.twig' %}
{% form_theme form 'ArduinoBundle:Form:form.html.twig' %}

{% block content %}
<div class="row">
    <h1>Main site</h1>
</div>
<div class="row">
    {% if queriesCount == 0 %}
        No query was made
    {% else %}
        From <strong>{{ fromDate.format('H:i d.m.Y') }}</strong> to <strong>{{ toDate.format('H:i d.m.Y') }}</strong>:<br/>
        Queries count: {{ queriesCount }}<br/>
        Avarge query time: {{ meanTime }}<br/>
        Max time: {{ maxTime }}<br/>
        Min time: {{ minTime }}<br/>
    {% endif %}
    <br/><br/>
</div>
<div class="well">
    <div class="row">

        {{ form_start(form, {'attr': {'role': 'form'} }) }}
        <div class="col-lg-6">
            {{ form_widget(form) }}
            <button type="submit" class="btn btn-primary btn-large">Submit</button>
        </div>
        {{ form_end(form) }}

    </div>
    <div class="row">
        <div id="myfirstchart" style="height: 250px;"></div>
    </div>
</div>
{% endblock %}

{% block javascript %}
    {% if data is not null %}
        <script>
            new Morris.Area({
                element: 'myfirstchart',
                data: [
                    {{ data|raw }}
                ],
                xkey: 'x',
                ykeys: ['y'],
                xLabels: "day",
                labels: ['Temperature']
            });
        </script>
    {% endif %}
{% endblock %}
